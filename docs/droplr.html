<!DOCTYPE html>
<html>
  <head>
    <title>Droplr Embed</title>
    <style>
      html, body, video {
        width: 100%;
        height: 100%;
      }
    </style>
  </head>
  <body>
    <video id="embed" controls preload="auto"></video>
    <script>
      let embed = document.querySelector("#embed");
      let urlParams = new URLSearchParams(window.location.search);

      let videoUrl = urlParams.get("video");
      if (!videoUrl) {
        throw new Error("Missing video URL.");
      }
      embed.src = videoUrl;

      let posterUrl = urlParams.get("poster");
      if (posterUrl) {
        embed.poster = posterUrl;
      }

      embed.addEventListener("click", (e) => {
        console.log("Click");
        let embed = e.target;
        embed.paused ? embed.play() : embed.pause();
        e.preventDefault();
      });
    </script>
  </body>
</html>
